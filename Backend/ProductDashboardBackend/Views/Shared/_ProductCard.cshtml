@model ProductDashboard.Models.Product

<div class="col-xl-3 col-lg-4 col-md-6 mb-4">
    <div class="card h-100 shadow-sm border-0" style="border-radius: 12px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;">
        <div class="card-img-container position-relative">
            <img src="@(string.IsNullOrEmpty(Model.ImageUrl) ? "/images/placeholder-food.jpg" : Model.ImageUrl)"
                 class="card-img-top" alt="@Model.Name"
                 style="height: 200px; object-fit: cover;" loading="lazy">
            @if (!Model.InStock)
            {
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background: rgba(44, 62, 80, 0.85);">
                    <span class="badge rounded-pill px-3 py-2" style="background-color: #E74C3C; font-size: 0.9rem;">
                        <i class="ri-close-circle-fill me-1"></i>Sold Out
                    </span>
                </div>
            }
            <!-- Favorite Heart Icon -->
            <button class="btn btn-sm position-absolute top-0 end-0 m-2 p-0" style="background: rgba(236, 240, 241, 0.9); border-radius: 50%; width: 32px; height: 32px;">
                <i class="ri-heart-line" style="color: #E67E22; font-size: 1.1rem;"></i>
            </button>
        </div>

        <div class="card-body d-flex flex-column" style="background: linear-gradient(to bottom, #FFFFFF, #FDF6E3);">
            <!-- Title and Category -->
            <div class="d-flex justify-content-between align-items-start mb-2">
                <h5 class="card-title mb-0" style="font-family: 'Playfair Display', serif; color: #2C3E50;">
                    @Model.Name
                </h5>
                <span class="badge rounded-pill px-2" style="background-color: #E67E22; color: #2C3E50; font-size: 0.75rem;">
                    @Model.Category?.Name
                </span>
            </div>

            <!-- Description -->
            <p class="card-text flex-grow-1 mb-3" style="color: #34495E; font-size: 0.9rem; line-height: 1.4;">
                @Model.Description
            </p>

            <!-- Price -->
            <div class="mb-3">
                <span class="h4 mb-0" style="font-family: 'Playfair Display', serif; color: #2C3E50;">
                    LKR @Model.Price.ToString("N2")
                </span>
                <small class="text-muted ms-1" style="color: #7F8C8D !important;">per serving</small>
            </div>

            <!-- Action Buttons -->
            <div class="card-actions mt-auto">
                <div class="d-grid gap-2">
                    <button class="btn btn-sm view-details-btn" data-product-id="@Model.Id"
                            style="background-color: #2C3E50; color: #ECF0F1; border: none;">
                        <i class="ri-eye-line me-1"></i>View Details
                    </button>

                    @if (Model.InStock)
                    {
                        <button class="btn btn-sm add-to-cart-btn" data-product-id="@Model.Id"
                                style="background-color: #27AE60; color: white; border: none;">
                            <i class="ri-shopping-cart-line me-1"></i>Add to Order
                        </button>
                    }
                    else
                    {
                        <button class="btn btn-sm" disabled
                                style="background-color: #BDC3C7; color: #2C3E50; border: none;">
                            <i class="ri-close-circle-line me-1"></i>Currently Unavailable
                        </button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add this CSS for hover effects -->
<style>
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
    }

    .view-details-btn:hover {
        background-color: #34495E !important;
        color: #DAA520 !important;
    }

    .add-to-cart-btn:hover {
        background-color: #219653 !important;
        transform: scale(1.02);
    }

    .card-img-container .btn:hover {
        background: #ECF0F1 !important;
    }

        .card-img-container .btn:hover i {
            color: #E67E22 !important;
        }
</style>